{"version":3,"file":"static/webpack/static/development/pages/index.js.e8415dd1b3eff317ac2c.hot-update.js","sources":["webpack:///./components/info.js"],"sourcesContent":["let fs = 14;\nlet lh = 1.5;\nlet rlh = fs * lh;\nlet ts = {\n  textTransform: 'uppercase',\n};\nlet maxch = '74ch';\n\nlet Key = (item, clickKey) => {\n  let [key, label] = item;\n  return (\n    <div\n      onClick={() => {\n        clickKey(key);\n      }}\n      style={{\n        cursor: 'pointer',\n        marginRight: label !== false ? '1ch' : 0,\n        display: 'flex',\n        marginBottom: label !== false ? rlh / 4 : 0,\n      }}\n    >\n      <div\n        style={{\n          border: 'solid 1px black',\n          paddingLeft: '0.5ch',\n          paddingRight: '0.5ch',\n          background: '#fff',\n        }}\n      >\n        {key}\n      </div>\n      {label !== false ? (\n        <div\n          style={{\n            paddingLeft: '1ch',\n            paddingRight: '1ch',\n            borderTop: 'solid 1px transparent',\n            borderRight: 'solid 1px transparent',\n            borderBottom: 'solid 1px transparent',\n          }}\n        >\n          {label}\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nlet KeyList = ({ items, clickKey }) => {\n  return (\n    <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n      {items.map(item => {\n        return Key(item, clickKey);\n      })}\n    </div>\n  );\n};\n\nlet Relevant = ({ mode, clickKey }) => {\n  switch (mode) {\n    case 'move':\n      return (\n        <div>\n          <div\n            style={{\n              marginBottom: rlh / 4,\n            }}\n          >\n            <div style={ts}>Move cursor</div>\n            <KeyList\n              clickKey={clickKey}\n              items={[['h', '←'], ['j', '↓'], ['k', '↑'], ['l', '→']]}\n            />\n            <KeyList\n              clickKey={clickKey}\n              items={[['shift', 'hold to move by 10']]}\n            />\n          </div>\n          <div\n            style={{\n              marginBottom: rlh / 4,\n            }}\n          >\n            <div style={ts}>Action</div>\n            <KeyList\n              clickKey={clickKey}\n              items={[['enter', 'select flow'], ['2', 'adjust cursor']]}\n            />\n          </div>\n        </div>\n      );\n      break;\n    case 'choose_flow':\n      return (\n        <div>\n          <div\n            style={{\n              marginBottom: rlh / 4,\n            }}\n          >\n            <div style={ts}>Choose flow direction</div>\n            <KeyList\n              clickKey={clickKey}\n              items={[\n                ['a', 'west'],\n                ['w', 'north'],\n                ['s', 'south'],\n                ['d', 'east'],\n              ]}\n            />\n            <KeyList clickKey={clickKey} items={[['escape', 'cancel']]} />\n          </div>\n        </div>\n      );\n      break;\n    case 'adjust_flow':\n      return (\n        <div>\n          <div\n            style={{\n              marginBottom: rlh / 4,\n            }}\n          >\n            <div style={ts}>Adjust flow</div>\n            <KeyList clickKey={clickKey} items={[['f', 'flip direction']]} />\n            <KeyList clickKey={clickKey} items={[['enter', 'start flow']]} />\n            <KeyList clickKey={clickKey} items={[['escape', 'cancel']]} />\n          </div>\n        </div>\n      );\n      break;\n    case 'adjust_cursor':\n      return (\n        <div>\n          <div\n            style={{\n              marginBottom: rlh / 4,\n            }}\n          >\n            <div style={ts}>Adjust cursor size</div>\n            <KeyList\n              clickKey={clickKey}\n              items={[['h', '←'], ['j', '↓'], ['k', '↑'], ['l', '→']]}\n            />\n            <KeyList\n              clickKey={clickKey}\n              items={[['shift', 'hold to adjust by 10']]}\n            />\n          </div>\n          <div\n            style={{\n              marginBottom: rlh / 4,\n            }}\n          >\n            <div style={ts}>Action</div>\n            <KeyList\n              clickKey={clickKey}\n              items={[['enter', 'return to move']]}\n            />\n          </div>\n        </div>\n      );\n      break;\n    default:\n      return null;\n  }\n};\n\nexport default ({ rlh, mode, help, clickKey }) => {\n  return (\n    <div>\n      <div\n        style={{\n          position: 'fixed',\n          right: '2ch',\n          bottom: rlh,\n          display: !help ? 'block' : 'none',\n        }}\n      >\n        {Key(['?', false], clickKey)}\n      </div>\n\n      <div\n        style={{\n          paddingRight: '1ch',\n          paddingLeft: '1ch',\n          paddingTop: rlh / 4,\n          paddingBottom: rlh / 4,\n          position: 'fixed',\n          outline: 'solid 1px black',\n          width: maxch,\n          maxWidth: `calc(100% - 4ch)`,\n          background: 'white',\n          paddingLeft: '2ch',\n          paddingRight: '2ch',\n          paddingBottom: rlh / 2,\n          paddingTop: rlh / 2,\n          right: '2ch',\n          bottom: rlh,\n          overflowY: 'auto',\n          display: help ? 'block' : 'none',\n        }}\n      >\n        <div style={{ marginBottom: rlh / 4 }}>\n          Edit an image using keyboard-controlled pixel flows.\n        </div>\n\n        <div\n          style={{\n            background: '#efefef',\n            marginLeft: '-2ch',\n            marginRight: '-2ch',\n            paddingLeft: '2ch',\n            paddingRight: '2ch',\n          }}\n        >\n          <Relevant mode={mode} clickKey={clickKey} />\n        </div>\n        <div\n          style={{\n            marginBottom: rlh / 4,\n          }}\n        >\n          <div style={ts}>Image</div>\n          <div>To add an image you can paste, drop or press</div>\n          <KeyList\n            items={[['o', 'to open a file dialog']]}\n            clickKey={clickKey}\n          />\n        </div>\n        <div\n          style={{\n            marginBottom: rlh / 4,\n          }}\n        >\n          <div style={ts}>Special</div>\n          <KeyList\n            clickKey={clickKey}\n            items={[\n              ['x', 'save frame as png'],\n              ['space', 'pause/play flows'],\n              ['v', 'show flow outlines'],\n              ['r', 'clear and reset image'],\n              ['?', 'help'],\n            ]}\n          />\n        </div>\n        <div>\n          <a href=\"https://en.wikipedia.org/wiki/It%27s_Blitz!\">\n            Default photo by Urs Fischer.\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","sourceRoot":""}