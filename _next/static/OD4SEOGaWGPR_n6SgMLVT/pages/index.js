(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"3niX":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flush=function(){var e=l.cssRules();return l.flush(),e},t.default=void 0;var n,i=r("q1tI");function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=new(((n=r("SevZ"))&&n.__esModule?n:{default:n}).default),d=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=c(this,a(t).call(this,e))).prevProps={},r}var r,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,i.Component),r=t,o=[{key:"dynamic",value:function(e){return e.map(function(e){var t=e[0],r=e[1];return l.computeId(t,r)}).join(" ")}}],(n=[{key:"shouldComponentUpdate",value:function(e){return this.props.id!==e.id||String(this.props.dynamic)!==String(e.dynamic)}},{key:"componentWillUnmount",value:function(){l.remove(this.props)}},{key:"render",value:function(){return this.shouldComponentUpdate(this.prevProps)&&(this.prevProps.id&&l.remove(this.prevProps),l.add(this.props),this.prevProps=this.props),null}}])&&s(r.prototype,n),o&&s(r,o),t}();t.default=d},"8oxB":function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var a,u=[],l=!1,d=-1;function f(){l&&a&&(l=!1,a.length?u=a.concat(u):d=-1,u.length&&h())}function h(){if(!l){var e=c(f);l=!0;for(var t=u.length;t;){for(a=u,u=[];++d<t;)a&&a[d].run();d=-1,t=u.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||l||c(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"9kyW":function(e,t,r){"use strict";e.exports=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}},MX0m:function(e,t,r){e.exports=r("3niX")},RNiq:function(e,t,r){"use strict";r.r(t);var n=r("XXOK"),i=r.n(n),o=r("p0XB"),s=r.n(o);var c=r("d04V"),a=r.n(c),u=r("yLu3"),l=r.n(u);function d(e){return function(e){if(s()(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(l()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return a()(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f=r("MX0m"),h=r.n(f),p=r("q1tI"),m=r.n(p);function v(e,t){var r=document.createElement("canvas"),n=r.getContext("2d");return r.width=e[2],r.height=e[3],"e"===e[4]?(n.drawImage(t,e[0],e[1],e[2]-1,e[3],1,0,e[2]-1,e[3]),n.drawImage(t,e[0]+e[2]-1,e[1],1,e[3],0,0,1,e[3])):"w"===e[4]?(n.drawImage(t,e[0]+1,e[1],e[2]-1,e[3],0,0,e[2]-1,e[3]),n.drawImage(t,e[0],e[1],1,e[3],e[2]-1,0,1,e[3])):"s"===e[4]?(n.drawImage(t,e[0],e[1],e[2],e[3]-1,0,1,e[2],e[3]-1),n.drawImage(t,e[0],e[1]+e[3]-1,e[2],1,0,0,e[2],1)):"n"===e[4]&&(n.drawImage(t,e[0],e[1]+1,e[2],e[3]-1,0,0,e[2],e[3]-1),n.drawImage(t,e[0],e[1],e[2],1,0,e[3]-1,e[2],1)),r}var y=r("hfKm"),g=r.n(y);function w(e,t,r){return t in e?g()(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t){return function(e){if(s()(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,s=void 0;try{for(var c,a=i()(e);!(n=(c=a.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(u){o=!0,s=u}finally{try{n||null==a.return||a.return()}finally{if(o)throw s}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b=m.a.createElement,S={textTransform:"uppercase"},k=function(e,t){var r=_(e,2),n=r[0],i=r[1];return b("div",{onClick:function(){t(n)},style:{cursor:"pointer",marginRight:!1!==i?"1ch":0,display:"flex",marginBottom:!1!==i?5.25:0}},b("div",{style:{border:"solid 1px black",paddingLeft:"0.5ch",paddingRight:"0.5ch",background:"#fff"}},n),!1!==i?b("div",{style:{paddingLeft:"1ch",paddingRight:"1ch",borderTop:"solid 1px transparent",borderRight:"solid 1px transparent",borderBottom:"solid 1px transparent"}},i):null)},R=function(e){var t=e.items,r=e.clickKey;return b("div",{style:{display:"flex",flexWrap:"wrap"}},t.map(function(e){return k(e,r)}))},j=function(e){var t=e.mode,r=e.clickKey;switch(t){case"move":return b("div",null,b("div",{style:{marginBottom:5.25}},b("div",{style:S},"Move cursor"),b(R,{clickKey:r,items:[["h","\u2190"],["j","\u2193"],["k","\u2191"],["l","\u2192"]]}),b(R,{clickKey:r,items:[["shift","hold to move by 10"]]})),b("div",{style:{marginBottom:5.25}},b("div",{style:S},"Action"),b(R,{clickKey:r,items:[["enter","select flow"],["2","adjust cursor"]]})));case"choose_flow":return b("div",null,b("div",{style:{marginBottom:5.25}},b("div",{style:S},"Choose flow direction"),b(R,{clickKey:r,items:[["a","west"],["w","north"],["s","south"],["d","east"]]}),b(R,{clickKey:r,items:[["escape","cancel"]]})));case"adjust_flow":return b("div",null,b("div",{style:{marginBottom:5.25}},b("div",{style:S},"Adjust flow"),b(R,{clickKey:r,items:[["f","flip direction"]]}),b(R,{clickKey:r,items:[["enter","start flow"]]}),b(R,{clickKey:r,items:[["escape","cancel"]]})));case"adjust_cursor":return b("div",null,b("div",{style:{marginBottom:5.25}},b("div",{style:S},"Adjust cursor size"),b(R,{clickKey:r,items:[["h","\u2190"],["j","\u2193"],["k","\u2191"],["l","\u2192"]]}),b(R,{clickKey:r,items:[["shift","hold to adjust by 10"]]})),b("div",{style:{marginBottom:5.25}},b("div",{style:S},"Action"),b(R,{clickKey:r,items:[["enter","return to move"]]})));default:return null}},x=function(e){var t,r=e.rlh,n=e.mode,i=e.help,o=e.clickKey;return b("div",null,b("div",{style:{position:"fixed",right:"2ch",bottom:r,display:i?"none":"block"}},k(["?",!1],o)),b("div",{style:(t={paddingRight:"1ch",paddingLeft:"1ch",paddingTop:r/4,paddingBottom:r/4,position:"fixed",outline:"solid 1px black",width:"74ch",maxWidth:"calc(100% - 4ch)",background:"white"},w(t,"paddingLeft","2ch"),w(t,"paddingRight","2ch"),w(t,"paddingBottom",r/2),w(t,"paddingTop",r/2),w(t,"right","2ch"),w(t,"bottom",r),w(t,"overflowY","auto"),w(t,"display",i?"block":"none"),t)},b("div",{style:{marginBottom:r/4}},"Edit an image using keyboard-controlled pixel flows."),b("div",{style:{background:"#efefef",marginLeft:"-2ch",marginRight:"-2ch",paddingLeft:"2ch",paddingRight:"2ch"}},b(j,{mode:n,clickKey:o})),b("div",{style:{marginBottom:r/4}},b("div",{style:S},"Image"),b("div",null,"To add an image you can paste, drop or press"),b(R,{items:[["o","to open a file dialog"]],clickKey:o})),b("div",{style:{marginBottom:r/4}},b("div",{style:S},"Special"),b(R,{clickKey:o,items:[["x","save frame as png"],["space","pause/play flows"],["v","show flow outlines"],["r","clear and reset image"],["?","help"]]})),b("div",null,b("a",{href:"https://en.wikipedia.org/wiki/It%27s_Blitz!"},"Default photo by Urs Fischer")),b("div",null,b("a",{href:"https://github.com/constraint-systems/flow"},"View source"))))},O=m.a.createElement,C=10,T="rgba(255,0,255,1)",E="rgba(0,255,0,1)",L=14,F=1.5,I=L*F;t.default=function(){var e=Object(p.useRef)(null),t=Object(p.useRef)(null),r=(Object(p.useRef)(null),Object(p.useRef)({})),n=Object(p.useRef)(null),o=Object(p.useRef)([0,0,20,20]),s=Object(p.useRef)(null),c=Object(p.useRef)("move"),a=Object(p.useRef)(null),u=Object(p.useRef)([]),l=Object(p.useRef)(!1),f=Object(p.useState)(!0),m=f[0],y=f[1],g=Object(p.useState)("move"),w=g[0],_=g[1],b=Object(p.useRef)(null);function S(r){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=window.innerWidth-2*C,l=window.innerHeight-2*C-10-L*F,d=new Image;d.onload=function(){var r,f,h=d.width,p=d.height,m=h/p,v=!1;if(m>=i/l?h>i&&(v=!0,r=i,f=Math.round(i/m)):p>l&&(v=!0,f=l,r=Math.round(l*m)),v){var y=!0;n||(y=confirm("The image you selected is larger (".concat(h,"x").concat(p,") than the browser window.  Resize it to fit (").concat(r,"x").concat(f,")? Choose cancel to import it at full size."))),y&&(d.width=r,d.height=f)}b.current=d,c.current="move",_("move"),o.current[0]=0,o.current[1]=0,o.current[2]=Math.min(o.current[2],h),o.current[3]=Math.min(o.current[3],p),u.current=[],a.current=null,function(t){var r=e.current;r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0,r.width,r.height)}(d),function(e){var r=t.current;r.width=e.width+2*C,r.height=e.height+2*C,r.getContext("2d")}(d),k(),cancelAnimationFrame(s.current),j(),B()},d.src=r}function k(){var e=t.current,r=(e.offsetWidth,e.offsetHeight,t.current.getContext("2d")),n=c.current;if("adjust_flow"!==n){var i=o.current;r.strokeStyle=T,r.lineWidth=1,r.strokeRect(i[0]+C,i[1]+C,i[2],i[3]),"adjust_cursor"===n&&(r.fillStyle=T,r.beginPath(),r.arc(i[0]+C,i[1]+C,4,0,2*Math.PI),r.fill())}}function R(t){var r=e.current,n=r.offsetWidth,i=r.offsetHeight;c.current="adjust_flow",_("adjust_flow");var s=o.current;"w"===t?a.current=[0,s[1],s[0]+s[2],s[3],t]:"e"===t?a.current=[s[0],s[1],n-s[0],s[3],t]:"n"===t?a.current=[s[0],0,s[2],s[1]+s[3],t]:"s"===t&&(a.current=[s[0],s[1],s[2],i-s[1],t])}function j(){for(var t=e.current,r=t.getContext("2d"),n=(t.offsetWidth,t.offsetHeight,0);n<u.current.length;n++){var i=u.current[n],o=v(i,t);r.drawImage(o,i[0],i[1],i[2],i[3])}s.current=requestAnimationFrame(j)}function B(){var t=e.current,r=t.offsetWidth,i=t.offsetHeight,s=a.current,u=o.current,l=n.current;"adjust_flow"===c.current?l.innerHTML="".concat(s[0],",").concat(s[1]," ").concat(s[2],"x").concat(s[3]," ").concat(s[4].toUpperCase()):l.innerHTML="".concat(r,"x").concat(i,"  ").concat(u[0],",").concat(u[1]," ").concat(u[2],"x").concat(u[3])}function z(n,f){var h=e.current,p=h.offsetWidth,m=h.offsetHeight,v=r.current,g=o.current;if(c.current," "===n&&(null!==s.current?(cancelAnimationFrame(s.current),s.current=null):j()),"v"===n&&(console.log("toggle it"),console.log(l.current),l.current=!l.current),"?"===n&&y(function(e){return!e}),"c"===n&&confirm("Clear all flows and reset image?")){c.current="move",_("move"),u.current=[],a.current=null;var w=b.current,x=e.current;x.width=w.width,x.height=w.height,x.getContext("2d").drawImage(w,0,0,x.width,x.height)}if("x"===n&&!f){var O=document.createElement("a"),T=function e(){var t=this;requestAnimationFrame(function(){URL.revokeObjectURL(t.href),t.href=null}),this.removeEventListener("click",e)};e.current.toBlob(function(e){O.setAttribute("download","flow-".concat((new Date).toISOString().slice(0,-4).replace(/-/g,"").replace(/:/g,"").replace(/_/g,"").replace(/\./g,""),"Z.png")),O.setAttribute("href",URL.createObjectURL(e)),O.addEventListener("click",T),O.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))})}if("o"===n&&!f){var L=document.createElement("input");L.setAttribute("type","file"),L.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),L.addEventListener("change",function e(t){var r=!0,n=!1,o=void 0;try{for(var s,c=i()(this.files);!(r=(s=c.next()).done);r=!0){var a=s.value;a.type.indexOf("image")<0||S(URL.createObjectURL(a))}}catch(u){n=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}this.removeEventListener("change",e)})}if("move"===c.current){var F=1;v.shift&&(F=10),v.j&&(g[1]+=F),v.k&&(g[1]-=F),v.h&&(g[0]-=F),v.l&&(g[0]+=F),g[0]<0&&(g[0]=0),g[0]+g[2]>p&&(g[0]=p-g[2]),g[1]<0&&(g[1]=0),g[1]+g[3]>m&&(g[1]=m-g[3]),"2"===n&&(c.current="adjust_cursor",_("adjust_cursor")),"enter"===n&&(c.current="choose_flow",_("choose_flow"))}else if("adjust_cursor"===c.current){var I=1;v.shift&&(I=10),v.j&&(g[3]+=I),v.k&&(g[3]-=I),v.h&&(g[2]-=I),v.l&&(g[2]+=I),g[0]+g[2]>p&&(g[2]=p-g[0]),g[1]+g[3]>m&&(g[3]=m-g[1]),g[2]<1&&(g[2]=1),g[3]<1&&(g[3]=1),"enter"===n&&(c.current="move",_("move")),"escape"===n&&(c.current="move",_("move")),"1"===n&&(c.current="move",_("move"))}else if("choose_flow"===c.current)"a"===n?R("w"):"w"===n?R("n"):"s"===n?R("s"):"d"===n&&R("e"),"escape"===n&&(c.current="move",_("move"));else if("adjust_flow"===c.current){var z=a.current;"escape"===n?(c.current="choose_flow",_("choose_flow")):"enter"===n?(u.current.push(a.current),c.current="move",_("move")):"f"===n&&("w"===z[4]?z[4]="e":"e"===z[4]?z[4]="w":"n"===z[4]?z[4]="s":"s"===z[4]&&(z[4]="n"))}var A=t.current,P=A.offsetWidth,M=A.offsetHeight,K=t.current.getContext("2d");if(K.clearRect(0,0,P,M),l.current&&function(){var e=t.current.getContext("2d");e.strokeStyle="#aaa";for(var r=0;r<u.current.length;r++){var n=u.current[r];e.strokeRect(n[0]+C,n[1]+C,n[2],n[3])}}(),"choose_flow"===c.current)!function(){var r=e.current,n=r.offsetWidth,i=r.offsetHeight,s=o.current,c=[[0,s[1],s[0],s[3]],[s[0]+s[2],s[1],n-(s[0]+s[2]),s[3]],[s[0],0,s[2],s[1]],[s[0],s[1]+s[3],s[2],i-(s[1]+s[3])]].map(function(e){return e.map(function(e,t){return 0===t||1===t?e+C:e})}),a=t.current.getContext("2d");a.fillStyle="rgba(0,0,0,0.2)",a.strokeStyle="rgba(0,0,0,0.8)";for(var u=0;u<c.length;u++){var l=c[u];a.fillRect.apply(a,d(l)),a.strokeRect.apply(a,d(l))}a.strokeStyle="white"}();else if("adjust_flow"===c.current){K.strokeStyle=E;var N,U,W=a.current;K.strokeRect(W[0]+C,W[1]+C,W[2],W[3]),K.fillStyle=E,K.beginPath(),"e"===W[4]?(N=W[0],U=W[1]+W[3]/2):"s"===W[4]?(N=W[0]+W[2]/2,U=W[1]):"w"===W[4]?(N=W[0]+W[2],U=W[1]+W[3]/2):"n"===W[4]&&(N=W[0]+W[2]/2,U=W[1]+W[3]),K.arc(N+C,U+C,4,0,2*Math.PI),K.fill()}k(),B()}function A(e){r.current[e.key.toLowerCase()]=!0,z(e.key.toLowerCase(),e.repeat)}function P(e){r.current[e.key.toLowerCase()]=!1}function M(e){e.preventDefault(),e.stopPropagation();var t=!0,r=!1,n=void 0;try{for(var o,s=i()(e.clipboardData.items);!(t=(o=s.next()).done);t=!0){var c=o.value;if(!(c.type.indexOf("image")<0)){var a=c.getAsFile();S(URL.createObjectURL(a))}}}catch(u){r=!0,n=u}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}}function K(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}function N(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.files[0];t.path?t.path:t.name&&t.name,S(URL.createObjectURL(t))}return Object(p.useEffect)(function(){return window.addEventListener("keydown",A),window.addEventListener("keyup",P),window.addEventListener("paste",M,!1),window.addEventListener("dragover",K,!1),window.addEventListener("drop",N,!1),function(){window.removeEventListener("keydown",A),window.removeEventListener("keyup",P),window.removeEventListener("paste",M),window.removeEventListener("dragover",K,!1),window.removeEventListener("drop",N,!1),null!==s.current&&cancelAnimationFrame(s.current)}},[]),Object(p.useEffect)(function(){S("/yyy.jpg",!0)},[]),O("div",{className:h.a.dynamic([["3046322106",[L,F]]])},O("div",{style:{position:"relative",padding:C},className:h.a.dynamic([["3046322106",[L,F]]])},O("canvas",{ref:e,className:h.a.dynamic([["3046322106",[L,F]]])}),O("canvas",{ref:t,style:{position:"absolute",left:0,top:0,pointerEvents:"none"},className:h.a.dynamic([["3046322106",[L,F]]])})),O("div",{style:{marginLeft:C,marginBottom:C,whiteSpace:"pre-wrap"},ref:n,className:h.a.dynamic([["3046322106",[L,F]]])}),O(x,{rlh:I,mode:w,help:m,clickKey:function(e){r.current[e]=!0,z(e,!1),setTimeout(function(){r.current[e]=!1},300)}}),O(h.a,{id:"3046322106",dynamic:[L,F]},["@font-face{font-family:'custom';src:url('/IBMPlexMono-Regular.woff2') format('woff2'), url('/IBMPlexMono-Regular.woff') format('woff');}","*{box-sizing:border-box;}","html{font-family:custom,monospace;font-size:".concat(L,"px;line-height:").concat(F,";}"),"body{margin:0;padding:0;}","canvas{display:block;}","a{color:inherit;}"]))}},SevZ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r("9kyW")),i=o(r("bVZc"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.styleSheet,n=void 0===r?null:r,o=t.optimizeForSpeed,s=void 0!==o&&o,c=t.isBrowser,a=void 0===c?"undefined"!==typeof window:c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._sheet=n||new i.default({name:"styled-jsx",optimizeForSpeed:s}),this._sheet.inject(),n&&"boolean"===typeof s&&(this._sheet.setOptimizeForSpeed(s),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser=a,this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()}var t,r,o;return t=e,(r=[{key:"add",value:function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),n=r.styleId,i=r.rules;if(n in this._instancesCounts)this._instancesCounts[n]+=1;else{var o=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return-1!==e});this._indices[n]=o,this._instancesCounts[n]=1}}},{key:"remove",value:function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw new Error("StyleSheetRegistry: ".concat(t,"."))}(r in this._instancesCounts,"styleId: `".concat(r,"` not found")),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var n=this._fromServer&&this._fromServer[r];n?(n.parentNode.removeChild(n),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}}},{key:"update",value:function(e,t){this.add(t),this.remove(e)}},{key:"flush",value:function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()}},{key:"cssRules",value:function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return Boolean(e[1])}))}},{key:"createComputeId",value:function(){var e={};return function(t,r){if(!r)return"jsx-".concat(t);var i=String(r),o=t+i;return e[o]||(e[o]="jsx-".concat((0,n.default)("".concat(t,"-").concat(i)))),e[o]}}},{key:"createComputeSelector",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/__jsx-style-dynamic-selector/g,t={};return function(r,n){this._isBrowser||(n=n.replace(/\/style/gi,"\\/style"));var i=r+n;return t[i]||(t[i]=n.replace(e,r)),t[i]}}},{key:"getIdAndRules",value:function(e){var t=this,r=e.children,n=e.dynamic,i=e.id;if(n){var o=this.computeId(i,n);return{styleId:o,rules:Array.isArray(r)?r.map(function(e){return t.computeSelector(o,e)}):[this.computeSelector(o,r)]}}return{styleId:this.computeId(i),rules:Array.isArray(r)?r:[r]}}},{key:"selectFromServer",value:function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})}}])&&s(t.prototype,r),o&&s(t,o),e}();t.default=c},bVZc:function(e,t,r){"use strict";(function(e){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e.env&&!0,i=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.name,o=void 0===r?"stylesheet":r,c=t.optimizeForSpeed,a=void 0===c?n:c,u=t.isBrowser,l=void 0===u?"undefined"!==typeof window:u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(i(o),"`name` must be a string"),this._name=o,this._deletedRulePlaceholder="#".concat(o,"-deleted-rule____{}"),s("boolean"===typeof a,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=a,this._isBrowser=l,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var d=this._isBrowser&&document.querySelector('meta[property="csp-nonce"]');this._nonce=d?d.getAttribute("content"):null}var t,o,c;return t=e,(o=[{key:"setOptimizeForSpeed",value:function(e){s("boolean"===typeof e,"`setOptimizeForSpeed` accepts a boolean"),s(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()}},{key:"isOptimizeForSpeed",value:function(){return this._optimizeForSpeed}},{key:"inject",value:function(){var e=this;if(s(!this._injected,"sheet already injected"),this._injected=!0,this._isBrowser&&this._optimizeForSpeed)return this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),void(this._optimizeForSpeed||(n||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0));this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"===typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}}},{key:"getSheetForTag",value:function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}},{key:"getSheet",value:function(){return this.getSheetForTag(this._tags[this._tags.length-1])}},{key:"insertRule",value:function(e,t){if(s(i(e),"`insertRule` accepts only strings"),!this._isBrowser)return"number"!==typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var r=this.getSheet();"number"!==typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(c){return n||console.warn("StyleSheet: illegal rule: \n\n".concat(e,"\n\nSee https://stackoverflow.com/q/20007992 for more info")),-1}}else{var o=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,o))}return this._rulesCount++}},{key:"replaceRule",value:function(e,t){if(this._optimizeForSpeed||!this._isBrowser){var r=this._isBrowser?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(o){n||console.warn("StyleSheet: illegal rule: \n\n".concat(t,"\n\nSee https://stackoverflow.com/q/20007992 for more info")),r.insertRule(this._deletedRulePlaceholder,e)}}else{var i=this._tags[e];s(i,"old rule at index `".concat(e,"` not found")),i.textContent=t}return e}},{key:"deleteRule",value:function(e){if(this._isBrowser)if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];s(t,"rule at index `".concat(e,"` not found")),t.parentNode.removeChild(t),this._tags[e]=null}else this._serverSheet.deleteRule(e)}},{key:"flush",value:function(){this._injected=!1,this._rulesCount=0,this._isBrowser?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]}},{key:"cssRules",value:function(){var e=this;return this._isBrowser?this._tags.reduce(function(t,r){return r?t=t.concat(e.getSheetForTag(r).cssRules.map(function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[]):this._serverSheet.cssRules}},{key:"makeStyleTag",value:function(e,t,r){t&&s(i(t),"makeStyleTag acceps only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-".concat(e),""),t&&n.appendChild(document.createTextNode(t));var o=document.head||document.getElementsByTagName("head")[0];return r?o.insertBefore(n,r):o.appendChild(n),n}},{key:"length",get:function(){return this._rulesCount}}])&&r(t.prototype,o),c&&r(t,c),e}();function s(e,t){if(!e)throw new Error("StyleSheet: ".concat(t,"."))}t.default=o}).call(this,r("8oxB"))},vlRD:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r("RNiq")}])}},[["vlRD",1,0]]]);